<span class="color-container" #input>
    <ng-container *ngIf="mode === 'Input'; else circle">
        <input class="form-control" type="text"
            [style.background]="snapshot.value"
            [style.color]="snapshot.foreground"
            [placeholder]="placeholder"
            [ngModel]="snapshot.value"
            (ngModelChange)="writeValue($event)"
            (focus)="modal.show()" (blur)="blur()" />
    </ng-container>

    <ng-template #circle>
        <div class="circle" [style.background]="snapshot.value" (click)="modal.show()"></div> 
    </ng-template>
</span>

<div *sqxModalView="modal" [sqxModalTarget]="input" position="bottom-left">
    <div [style.background]="snapshot.value"
        [cpToggle]="true"
        [cpDialogDisplay]="'inline'"
        [cpCancelButton]="false"
        [colorPicker]="snapshot.value"
        (colorPickerChange)="writeValue($event)">
    </div>
</div>